<!doctype html>
<html lang="es">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Login Propietario</title>
	<link rel="icon" href="/favicon.ico">
	<link rel="stylesheet" href="./login_Propietario.css">
</head>
<body>
	<div class="login-container">

		<form id="formLoginProp" action="/login" method="post" onsubmit="handleLogin(event)" class="login-form">
			<h2>Ingreso - Propietario</h2>
			<div class="field">
				<label for="user">Usuario</label>
				<input type="text" id="user" name="user" autocomplete="username" required />
			</div>
			<div class="field">
				<label for="pass">Contrase√±a</label>
				<input type="password" id="pass" name="pass" autocomplete="current-password" required />
			</div>
			<button type="submit" class="btn">Entrar</button>

			<div id="errorMsg" class="error-message" role="alert" aria-live="polite"></div>
			<div class="small-note">Usa tus credenciales para ingresar</div>
		</form>

	</div>

	<script src="../vistaWeb.js"></script>
	<script src="../utilesVista.js"></script>
	<script>

        const URL_SUBMIT = "acceso/loginPropietario";

		// Enviar datos del formulario usando las utilidades del proyecto
		function handleLogin(event) {
            event.preventDefault();
            submit(URL_SUBMIT, serializarFormulario("formLogin"));
        }

		//La respuesta correcta del submit tiene la url de la vista siguiente
        function mostrar_LoginExitoso(urlDestino){
            window.location.href = urlDestino;
        }
        async function excepcionDeAplicacion(text){
            await mostrarMensaje(text);
        }
	</script>
</body>
</html>

